server:
  port: 9527

spring:
  application:
    name: cloud-gateway
  cloud:
    gateway:
      discovery:
        locator:
          enabled: true #å¼€å¯ä»æ³¨å†Œä¸­å¿ƒåŠ¨æ€åˆ›å»ºè·¯ç”±çš„åŠŸèƒ½ï¼Œåˆ©ç”¨å¾®æœåŠ¡åè¿›è¡Œè·¯ç”±
      routes:
        - id: payment_path #ä¸é‡å¤çš„ID
          uri: lb://CLOUD-PAYMENT-SERVICE
          predicates:
            - Path=/payment/** #è·¯ç”±çš„æ–­è¨€/payment/** é€šè¿‡
            - After=2020-03-14T20:02:40.743+08:00[Asia/Shanghai] #åœ¨è¿™ä¸ªæ—¶é—´ä¹‹åç”Ÿæ•ˆï¼ŒZonedTime.now()å¯è·å–å½“å‰æ—¶é—´
            #- Before=2020-03-14T20:02:40.743+08:00[Asia/Shanghai] #ä¹‹å‰
            #- Between=2020-01-14T20:02:40.743+08:00[Asia/Shanghai],2020-03-14T20:02:40.743+08:00[Asia/Shanghai] #ä¹‹é—´
            #- Cookie=username,ws # å¸¦cookieè®¿é—®,å¯ç”¨æ­£åˆ™ï¼ˆç”¨curl localhost:9527/payment/get/5 --cookie "username=ws"ï¼‰æµ‹è¯•
            #- Header=X-Request-Id,\d+ #è¯·æ±‚å¤´è¦æœ‰X-Request-Idå±æ€§ï¼Œå¹¶ä¸”æ»¡è¶³æ­£åˆ™\d+ï¼ˆæ•´æ•°ï¼‰(curl localhost:9527/payment/get/5 -H "X-Request-Id:1")

eureka:
  instance:
    hostname: cloud-gateway-service
  client:
    #æ³¨å†ŒğŸ¥‡è¿›EUREKA
    register-with-eureka: true
    fetch-registry: true
    service-url:
      #è®¾ç½®ä¸eurekaäº¤äº’çš„åœ°å€æŸ¥è¯¢æœåŠ¡å’Œæ³¨å†ŒæœåŠ¡éœ€è¦ä¾èµ–è¿™ä¸ªåœ°å€
      defaultZone: http://eureka7001:7001/eureka/,http://eureka7002:7002/eureka/
